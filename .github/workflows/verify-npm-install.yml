name: 'NPM Install Verify'
run-name: 'Verify NPM Install'

on:
  workflow_call:

jobs:
  verify:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        platform-tag: [
          "manylinux_x86_64",
          "manylinux_aarch64",
          "manylinux_20_x86_64",
          "manylinux_20_aarch64",
          "macosx_x86_64",
          "macosx_arm64",
          "win_amd64"
        ]
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Verify npm install
        uses: ./.github/actions/run-ee-server
        with:
          platform-tag: ${{ matrix.platform-tag }}
        secrets: inherit